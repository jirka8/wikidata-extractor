# WikiData Extraktor - Konfigurace pro základní informace o sídlech ve Spojeném království

country:
  name: "United Kingdom"
  wikidata_qid: "Q145"
  iso_code: "GB"
  language: "en"

# Hierarchie pro Spojené království
administrative_hierarchy:
  - level: 1
    name: "Constituent Country"
    wikidata_property: "P131"
    # Zahrnuje Anglii, Skotsko, Wales, Severní Irsko
    wikidata_instance_of: "Q3336843" 
  - level: 2
    name: "County / Region"
    wikidata_property: "P131"
    # Zahrnuje různé typy regionů a hrabství napříč UK
    wikidata_instance_of:
      - "Q23397"   # ceremonial county of England
      - "Q180673"  # non-metropolitan county
      - "Q349084"  # non-metropolitan district
      - "Q189556"  # council area of Scotland
      - "Q25219"   # principal area of Wales
      - "Q21451629" # metropolitan borough
      - "Q1187580" # metropolitan district

# Stahovat města a menší sídla
settlement_types:
  - type: "city"
    wikidata_qid: "Q515"
    label: "City"
  - type: "town"
    wikidata_qid: "Q3957"
    label: "Town"
  - type: "village"
    wikidata_qid: "Q532"
    label: "Village"
  - type: "hamlet"
    wikidata_qid: "Q5084"
    label: "Hamlet"
  - type: "civil_parish"
    wikidata_qid: "Q1115575"
    label: "Civil Parish"
  - type: "borough"
    wikidata_qid: "Q5195043"
    label: "Borough"

data_fields:
  # Základní identifikátory
  - field_name: "wikidata_id"
    wikidata_property: "SUBJECT"
    required: true
    output_column: "wikidata_id"
    description: "WikiData QID of the settlement"

  - field_name: "name_local"
    wikidata_property: "rdfs:label"
    language_filter: "en"
    required: true
    output_column: "name_en"
    description: "Name in English"

  - field_name: "coordinates"
    wikidata_property: "P625"
    required: false
    output_column: ["latitude", "longitude"]
    description: "GPS coordinates"

  - field_name: "population"
    wikidata_property: "P1082"
    required: false
    output_column: "population"
    data_type: "integer"
    description: "Population count"

  - field_name: "iso_code"
    wikidata_property: "P300"
    required: false
    output_column: "iso_3166_2_code"
    description: "ISO 3166-2 code"

  - field_name: "toid"
    wikidata_property: "P3120"
    required: false
    output_column: "os_toid"
    description: "Ordnance Survey TOID"

# Filtr, který omezí výsledky pouze na typy uvedené v settlement_types
filters:
  settlement_types_include:
    - "Q515"      # city
    - "Q3957"     # town
    - "Q532"      # village
    - "Q5084"     # hamlet
    - "Q1115575"  # civil parish
    - "Q5195043"  # borough
  exclude_historical: true

output:
  file_path: "output/united_kingdom_settlements.csv"
  encoding: "utf-8-sig"
  delimiter: ","
  include_header: true
  null_value: ""

query_settings:
  endpoint: "https://query.wikidata.org/sparql"
  timeout: 600 # Zvýšený timeout pro větší zemi
  user_agent: "WikiDataExtractor/1.0 (https://github.com/jirka8/wikidata-extractor)"
  rate_limit_delay: 1.0
  retry_attempts: 3
  # Strategie: stahovat postupně po jednotlivých zemích (Anglie, Skotsko atd.)
  strategy: "by_admin_level"
  batch_by_admin_level: 1
